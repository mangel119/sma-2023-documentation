<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-cambios/login">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.0">
<title data-rh="true">Sistema de Login | AcademIA</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://github.com/sma-2023-documentation/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://github.com/sma-2023-documentation/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://github.com/sma-2023-documentation/docs/cambios/login"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Sistema de Login | AcademIA"><meta data-rh="true" name="description" content="Se implementó el sistema de Login y Autenticación de usuario usando el Servicio de Supabase."><meta data-rh="true" property="og:description" content="Se implementó el sistema de Login y Autenticación de usuario usando el Servicio de Supabase."><link data-rh="true" rel="icon" href="/sma-2023-documentation/img/favicon-dark.ico"><link data-rh="true" rel="canonical" href="https://github.com/sma-2023-documentation/docs/cambios/login"><link data-rh="true" rel="alternate" href="https://github.com/sma-2023-documentation/docs/cambios/login" hreflang="en"><link data-rh="true" rel="alternate" href="https://github.com/sma-2023-documentation/docs/cambios/login" hreflang="x-default"><link rel="stylesheet" href="/sma-2023-documentation/assets/css/styles.7e0e89a0.css">
<link rel="preload" href="/sma-2023-documentation/assets/js/runtime~main.8e33e31d.js" as="script">
<link rel="preload" href="/sma-2023-documentation/assets/js/main.5be5f3a5.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/sma-2023-documentation/"><div class="navbar__logo"><img src="/sma-2023-documentation/img/logo4.png" alt="My Site Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/sma-2023-documentation/img/logo3.png" alt="My Site Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/sma-2023-documentation/docs/intro">Tutorial</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/sma-2023-documentation/docs/category/cambios---tercer-corte">Cambios</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/jvpradilla/SMA_2023_01" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/sma-2023-documentation/docs/intro">Introducción</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/sma-2023-documentation/docs/category/conceptos-básicos">Conceptos Básicos</a><button aria-label="Toggle the collapsible sidebar category &#x27;Conceptos Básicos&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/sma-2023-documentation/docs/category/tutorial---repositorio">Tutorial - Repositorio</a><button aria-label="Toggle the collapsible sidebar category &#x27;Tutorial - Repositorio&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/sma-2023-documentation/docs/category/cambios---tercer-corte">Cambios - Tercer corte</a><button aria-label="Toggle the collapsible sidebar category &#x27;Cambios - Tercer corte&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/sma-2023-documentation/docs/cambios/actualizaciones">Actualizaciones</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/sma-2023-documentation/docs/cambios/cambiosFront">Cambios en el Front End</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/sma-2023-documentation/docs/cambios/cambiosBack">Cambios en el Back End</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/sma-2023-documentation/docs/cambios/login">Sistema de Login</a></li></ul></li></ul></nav></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/sma-2023-documentation/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/sma-2023-documentation/docs/category/cambios---tercer-corte"><span itemprop="name">Cambios - Tercer corte</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Sistema de Login</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Sistema de Login</h1><p>Se implementó el sistema de Login y Autenticación de usuario usando el Servicio de Supabase.
Esto permite conectar a los usuarios registrados con la información de la base de datos.</p><p>Las rutas se encuentras protegidas.
Esto quiere decir que si un usuario intenta acceder a la plataforma sin haber inciado sesión no se le permitirá
y lo redireccionará a la página de login.
Lo mismo sucede si un usuario <em>profesor</em> intenta acceder a la plataforma de estudiante lo devolverá a su plataforma de profesor.
Con el usuario <em>estudiante</em> sucede lo mismo si intenta acceder a la plataforma de profesor.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="credenciales">Credenciales<a href="#credenciales" class="hash-link" aria-label="Direct link to Credenciales" title="Direct link to Credenciales">​</a></h2><p>Los desarrolladores backend son los encargados de crear usuarios.
Sin embargo desde infraestructura se crearon estos usuarios de prueba para poder seguir con el desarrollo.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="profesor">profesor<a href="#profesor" class="hash-link" aria-label="Direct link to profesor" title="Direct link to profesor">​</a></h3><p><strong>email</strong> <a href="mailto:supero@profesor.com" target="_blank" rel="noopener noreferrer">supero@profesor.com</a>
<strong>contraseña</strong> profesor123</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="estudiante">estudiante<a href="#estudiante" class="hash-link" aria-label="Direct link to estudiante" title="Direct link to estudiante">​</a></h3><p><strong>email</strong> <a href="mailto:estudiante@estudiante.com" target="_blank" rel="noopener noreferrer">estudiante@estudiante.com</a>
<strong>contraseña</strong> estudiante123</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="crear-usuarios">Crear usuarios<a href="#crear-usuarios" class="hash-link" aria-label="Direct link to Crear usuarios" title="Direct link to Crear usuarios">​</a></h2><p>El proceso de creación de usuarios consta de dos partes para poder funcionar correctamente.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="1-registro-de-usuarios-en-auth">1. Registro de usuarios en Auth<a href="#1-registro-de-usuarios-en-auth" class="hash-link" aria-label="Direct link to 1. Registro de usuarios en Auth" title="Direct link to 1. Registro de usuarios en Auth">​</a></h3><p>En la sección de Auth ubicada a la izquierda está toda la información de los usuarios ya registrados.
Deben dar click en el botón que dice <code>Add user</code>.
Colocan el correo y la contraseña correspondiente a ese usuario.</p><p>Deben recordar o anotar la contraseña ya que Supabase almacena es un token encriptado de dicha contraseña para mayor seguridad. Dejan seleccionada la opción de auto-confirmar.
<img loading="lazy" alt="Auth" src="/sma-2023-documentation/assets/images/auth-f020e7e83e91e14d4be1e5c6e399241a.png" width="1366" height="743" class="img_ev3q"></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="2-creación-de-la-información-del-usuario">2. Creación de la información del Usuario<a href="#2-creación-de-la-información-del-usuario" class="hash-link" aria-label="Direct link to 2. Creación de la información del Usuario" title="Direct link to 2. Creación de la información del Usuario">​</a></h3><p>Luego de registrar el correo y la contraseña debemos agregar la información correspondiente al usuario registrado.</p><p>Se dirigen a la sección de <em>Table Editor</em>, y luego a la tabla de <code>Participants</code>
aquí es donde se guarda la información de los participantes.
<img loading="lazy" alt="Row" src="/sma-2023-documentation/assets/images/row-6440fd515964ee5d0a4ccff60b972e12.png" width="1366" height="743" class="img_ev3q"></p><p>Le dan click al botón <code>Insert row</code> para agregar una nueva fila con información de un usuario.
En la ventana que les aparece es donde ingresarán la información del usuario que registraron como el nombre, rol, entre otros.
<img loading="lazy" alt="User" src="/sma-2023-documentation/assets/images/participant-67c96c0160212d0c775da619058935d0.png" width="1366" height="743" class="img_ev3q"></p><div class="theme-admonition theme-admonition-caution alert alert--warning admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>¡Atención!</div><div class="admonitionContent_S0QG"><p>Deben prestar mucha atención que el email utilizado en el primer paso debe ser igual al email utilizado en el segundo paso para poder funcionar.</p></div></div><p>Con estos pasos ya pueden iniciar sesión en la plataforma.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="utilizar-la-información-del-usuario-que-inició-sesión">Utilizar la información del usuario que inició sesión<a href="#utilizar-la-información-del-usuario-que-inició-sesión" class="hash-link" aria-label="Direct link to Utilizar la información del usuario que inició sesión" title="Direct link to Utilizar la información del usuario que inició sesión">​</a></h2><p>Se agregaron nuevos Client de supabase,
esto permite obtener acceso a la información de la base de datos
desde el usuario que inició sesión.</p><p>Aquí pueden ver un ejemplo aplicado en el proyecto de una API que trae de la base de datos
la información de los cursos a los que pertenece el usuario que inició sesión.
<img loading="lazy" alt="ExampleAPI" src="/sma-2023-documentation/assets/images/example-45e55ffdba66c2fa7a0030d495f00ed9.png" width="1712" height="833" class="img_ev3q">
Se importa el <code>createClient</code> de <em>supabase-server</em> para crear el cliente desde el servidor y no desde el navegador del usuario.
Dentro de la función creamos el cliente y obtenemos la información de la sesión dentro de un
objeto <code>{ data: { session } }</code>.
Cuando hacemos la consulta a la base de datos de supabase podemos compararlo con el email
del usuario que inició sesión por medio de <code>session?.user.email</code>.
Esto nos trae la información solo relacionada al usuario actual.</p><p>En el siguiente video pueden encontrar más detalles de esta vinculación.</p><p><a href="https://youtu.be/Y2nPEWrSfic?t=1587" target="_blank" rel="noopener noreferrer">https://youtu.be/Y2nPEWrSfic?t=1587</a></p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/cambios/login.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/sma-2023-documentation/docs/cambios/cambiosBack"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Cambios en el Back End</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#credenciales" class="table-of-contents__link toc-highlight">Credenciales</a><ul><li><a href="#profesor" class="table-of-contents__link toc-highlight">profesor</a></li><li><a href="#estudiante" class="table-of-contents__link toc-highlight">estudiante</a></li></ul></li><li><a href="#crear-usuarios" class="table-of-contents__link toc-highlight">Crear usuarios</a><ul><li><a href="#1-registro-de-usuarios-en-auth" class="table-of-contents__link toc-highlight">1. Registro de usuarios en Auth</a></li><li><a href="#2-creación-de-la-información-del-usuario" class="table-of-contents__link toc-highlight">2. Creación de la información del Usuario</a></li></ul></li><li><a href="#utilizar-la-información-del-usuario-que-inició-sesión" class="table-of-contents__link toc-highlight">Utilizar la información del usuario que inició sesión</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/sma-2023-documentation/docs/intro">Tutorial</a></li></ul></div><div class="col footer__col"><div class="footer__title">Comunidad</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://discord.gg/r2yD82YP" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">Links</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/jvpradilla/SMA_2023_01" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">GNU GPL License. AcademIA. Built with Docusaurus.</div></div></div></footer></div>
<script src="/sma-2023-documentation/assets/js/runtime~main.8e33e31d.js"></script>
<script src="/sma-2023-documentation/assets/js/main.5be5f3a5.js"></script>
</body>
</html>